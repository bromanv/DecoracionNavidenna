<html>
<head>
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">    
	<script src="three.min.js"></script>
    <script src="stats.min.js"></script>    
    <script src="Ar.min.js"></script>
	
    <script>
        THREEx.ArToolkitContext.baseURL = '';
		THREE.ImageUtils.generateDataTexture = function(width, height, color) {

			var size = width * height;
			var data = new Uint8Array(3 * size);

			var r = Math.floor(color.r * 255);
			var g = Math.floor(color.g * 255);
			var b = Math.floor(color.b * 255);

			for (var i = 0; i < size; i++) {
				data[i * 3] = r;
				data[i * 3 + 1] = g;
				data[i * 3 + 2] = b;
			}

			var texture = new THREE.DataTexture(data, width, height, THREE.RGBFormat);
			texture.needsUpdate = true;

			return texture;

		}

		// toggle full screen
		function toggleFullScreen() {
			if (!document.fullscreenElement && // alternative standard method
				!document.mozFullScreenElement && !document.webkitFullscreenElement) { // current working methods
				if (document.documentElement.requestFullscreen) {
					document.documentElement.requestFullscreen();
				} else if (document.documentElement.mozRequestFullScreen) {
					document.documentElement.mozRequestFullScreen();
				} else if (document.documentElement.webkitRequestFullscreen) {
					document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);
				}
			} else {
				if (document.cancelFullScreen) {
					document.cancelFullScreen();
				} else if (document.mozCancelFullScreen) {
					document.mozCancelFullScreen();
				} else if (document.webkitCancelFullScreen) {
					document.webkitCancelFullScreen();
				}
			}
		}

		// keydown event handler
		document.addEventListener('keydown', function(e) {
			if (e.keyCode == 13 || e.keyCode == 70) { // F or Enter key
				toggleFullScreen();
			}
		}, false);
    </script>	
</head>

<body style="margin : 0px; overflow: hidden; font-family: Monospace;">	
	<script src="ChristmasTree.js"></script>
	<script src="ChristmasMessage.js"></script>
	<!--<script src="ArApp.js"></script>-->
	<script>
		xmasTree.init();
		xmasMessage.init();
		xmasTree.animate();
		//xmasMessage.animate();
		xmasTree.group.add(xmasMessage.group);
	</script>
	<a href="javascript:void(0)" style="    position: absolute;    top: 0;    left: 0;    z-index: 10000000;" onclick="javascript:toggleFullScreen()">V10</a>
</body>
<html>